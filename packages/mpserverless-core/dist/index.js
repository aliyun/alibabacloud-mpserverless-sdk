!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["@alicloud/mpserverless-core"]=e():t["@alicloud/mpserverless-core"]=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};t[n].call(o.exports,o,o.exports,r);o.l=!0;return o.exports}r.m=t;r.c=e;r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})};r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})};r.t=function(t,e){1&e&&(t=r(t));if(8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:t});if(2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n};r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};r.d(e,"a",e);return e};r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};r.p="";return r(r.s="./src/index.ts")}({"../../node_modules/_process@0.11.10@process/browser.js":function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(t){n=u}}();function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var a,s=[],f=!1,l=-1;function p(){if(f&&a){f=!1;a.length?s=a.concat(s):l=-1;s.length&&d()}}function d(){if(!f){var t=c(p);f=!0;for(var e=s.length;e;){a=s;s=[];for(;++l<e;)a&&a[l].run();l=-1;e=s.length}a=null;f=!1;!function(t){if(n===clearTimeout)return clearTimeout(t);if((n===u||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(t)}try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new y(t,e));1!==s.length||f||c(d)};function y(t,e){this.fun=t;this.array=e}y.prototype.run=function(){this.fun.apply(null,this.array)};o.title="browser";o.browser=!0;o.env={};o.argv=[];o.version="";o.versions={};function h(){}o.on=h;o.addListener=h;o.once=h;o.off=h;o.removeListener=h;o.removeAllListeners=h;o.emit=h;o.prependListener=h;o.prependOnceListener=h;o.listeners=function(t){return[]};o.binding=function(t){throw new Error("process.binding is not supported")};o.cwd=function(){return"/"};o.chdir=function(t){throw new Error("process.chdir is not supported")};o.umask=function(){return 0}},"../../node_modules/_util@0.11.1@util/node_modules/inherits/inherits_browser.js":function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e;t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype;t.prototype=new r;t.prototype.constructor=t}},"../../node_modules/_util@0.11.1@util/support/isBufferBrowser.js":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"../../node_modules/_util@0.11.1@util/util.js":function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,u=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<i;a=n[++r])h(a)||!w(a)?u+=" "+a:u+=" "+c(a);return u};e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n);o=!0}return r.apply(this,arguments)}};var i,u={};e.debuglog=function(r){m(i)&&(i=t.env.NODE_DEBUG||"");r=r.toUpperCase();if(!u[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=t.pid;u[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else u[r]=function(){};return u[r]};function c(t,r){var n={seen:[],stylize:s};arguments.length>=3&&(n.depth=arguments[2]);arguments.length>=4&&(n.colors=arguments[3]);y(r)?n.showHidden=r:r&&e._extend(n,r);m(n.showHidden)&&(n.showHidden=!1);m(n.depth)&&(n.depth=2);m(n.colors)&&(n.colors=!1);m(n.customInspect)&&(n.customInspect=!0);n.colors&&(n.stylize=a);return f(n,t,n.depth)}e.inspect=c;c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(t,e){var r=c.styles[e];return r?"["+c.colors[r][0]+"m"+t+"["+c.colors[r][1]+"m":t}function s(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);b(o)||(o=f(t,o,n));return o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(v(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(h(e))return t.stylize("null","null")}(t,r);if(i)return i;var u=Object.keys(r),c=function(t){var e={};t.forEach((function(t,r){e[t]=!0}));return e}(u);t.showHidden&&(u=Object.getOwnPropertyNames(r));if(j(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(r);if(0===u.length){if(E(r)){var a=r.name?": "+r.name:"";return t.stylize("[Function"+a+"]","special")}if(g(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return t.stylize(Date.prototype.toString.call(r),"date");if(j(r))return l(r)}var s,w="",x=!1,P=["{","}"];if(d(r)){x=!0;P=["[","]"]}if(E(r)){w=" [Function"+(r.name?": "+r.name:"")+"]"}g(r)&&(w=" "+RegExp.prototype.toString.call(r));O(r)&&(w=" "+Date.prototype.toUTCString.call(r));j(r)&&(w=" "+l(r));if(0===u.length&&(!x||0==r.length))return P[0]+w+P[1];if(n<0)return g(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);s=x?function(t,e,r,n,o){for(var i=[],u=0,c=e.length;u<c;++u)_(e,String(u))?i.push(p(t,e,r,n,String(u),!0)):i.push("");o.forEach((function(o){o.match(/^\d+$/)||i.push(p(t,e,r,n,o,!0))}));return i}(t,r,n,c,u):u.map((function(e){return p(t,r,n,c,e,x)}));t.seen.pop();return function(t,e,r){if(t.reduce((function(t,e){0;e.indexOf("\n")>=0&&0;return t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(s,w,P)}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,o,i){var u,c,a;(a=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special"));_(n,o)||(u="["+o+"]");c||(t.seen.indexOf(a.value)<0?(c=h(r)?f(t,a.value,null):f(t,a.value,r-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special"));if(m(u)){if(i&&o.match(/^\d+$/))return c;if((u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){u=u.substr(1,u.length-2);u=t.stylize(u,"name")}else{u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");u=t.stylize(u,"string")}}return u+": "+c}function d(t){return Array.isArray(t)}e.isArray=d;function y(t){return"boolean"==typeof t}e.isBoolean=y;function h(t){return null===t}e.isNull=h;e.isNullOrUndefined=function(t){return null==t};function v(t){return"number"==typeof t}e.isNumber=v;function b(t){return"string"==typeof t}e.isString=b;e.isSymbol=function(t){return"symbol"==typeof t};function m(t){return void 0===t}e.isUndefined=m;function g(t){return w(t)&&"[object RegExp]"===x(t)}e.isRegExp=g;function w(t){return"object"==typeof t&&null!==t}e.isObject=w;function O(t){return w(t)&&"[object Date]"===x(t)}e.isDate=O;function j(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}e.isError=j;function E(t){return"function"==typeof t}e.isFunction=E;e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t};e.isBuffer=r("../../node_modules/_util@0.11.1@util/support/isBufferBrowser.js");function x(t){return Object.prototype.toString.call(t)}function P(t){return t<10?"0"+t.toString(10):t.toString(10)}var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var t=new Date,e=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))};e.inherits=r("../../node_modules/_util@0.11.1@util/node_modules/inherits/inherits_browser.js");e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(k&&t[k]){var e;if("function"!=typeof(e=t[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(e,k,{value:e,enumerable:!1,writable:!1,configurable:!0});return e}function e(){for(var e,r,n=new Promise((function(t,n){e=t;r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,o)}catch(t){r(t)}return n}Object.setPrototypeOf(e,Object.getPrototypeOf(t));k&&Object.defineProperty(e,k,{value:e,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(e,n(t))};e.promisify.custom=k;function R(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t;t=r}return e(t)}e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};e.apply(this,r).then((function(e){t.nextTick(u,null,e)}),(function(e){t.nextTick(R,e,u)}))}Object.setPrototypeOf(r,Object.getPrototypeOf(e));Object.defineProperties(r,n(e));return r}}).call(this,r("../../node_modules/_process@0.11.10@process/browser.js"))},"./src/codec/index.ts":function(t,e,r){"use strict";r.d(e,"b",(function(){return v}));r.d(e,"c",(function(){return b}));r.d(e,"a",(function(){return k}));r.d(e,"d",(function(){return R}));var n=r("./src/constant/index.ts"),o=r("./src/utility/index.ts");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=function t(){h(this,t)},b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&s(t,e)}(r,t);var e=f(r);function r(t,o){var i;h(this,r);(i=e.call(this)).endpoint=t;y(p(i),"body",{});y(p(i),"query",{});y(p(i),"method",n.a.POST);y(p(i),"prefix","");y(p(i),"baseHeaders",{});y(p(i),"serviceHeaders",{});y(p(i),"serverlessHeaders",{});y(p(i),"baseUrl",void 0);o&&(i.prefix=o);return i}!function(t,e,r){e&&a(t.prototype,e);r&&a(t,r)}(r,[{key:"encodeAsHTTPRequestObject",value:function(t){return{url:"",data:{},method:n.a.POST,headers:{}}}},{key:"sign",value:function(t){}},{key:"setBodyField",value:function(t){this.body=Object.assign({},this.body,c({},t));return this}},{key:"setUserId",value:function(t){this.setBodyField({userId:t});return this}},{key:"setBaseHeaders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.baseHeaders=c(c({},this.baseHeaders),Object.keys(t).reduce((function(e,r){t[r]&&(e[r]=t[r].toString());return e}),{}));return this}},{key:"setServerlessHeaders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.serverlessHeaders=c(c({},this.serverlessHeaders),Object.keys(t).reduce((function(e,r){t[r]&&(e[r]=t[r].toString());return e}),{}));return this}},{key:"encode",value:function(){this.body.params&&(this.body.params=JSON.stringify(this.body.params));return{url:this.url,data:this.body,method:this.method,headers:this.headers}}},{key:"url",get:function(){return[this.endpoint+this.prefix].filter((function(t){return!!t})).join("?")}},{key:"headers",get:function(){var t=this,e=Object.keys(this.serverlessHeaders).reduce((function(e,r){e["".concat(n.c).concat(Object(o.b)(r))]=t.serverlessHeaders[r];return e}),{});return c(c({},this.baseHeaders),e)}}]);return r}(v);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function(){var r,n=T(t);if(e){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return x(this,r)}}function x(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?P(t):e}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var k=function t(){_(this,t)},R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&j(t,e)}(r,t);var e=E(r);function r(){var t;_(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];S(P(t=e.call.apply(e,[this].concat(o))),"_body",{});S(P(t),"_error",void 0);S(P(t),"_status",void 0);S(P(t),"_headers",{});return t}!function(t,e,r){e&&O(t.prototype,e);r&&O(t,r)}(r,[{key:"setHeaders",value:function(t){this._headers=w(w({},this._headers),t)}},{key:"setStatusAndBody",value:function(t,e){this._status=t;this._body=e}},{key:"setErrorMessage",value:function(t){this._error=new Error(t)}},{key:"setErrorObject",value:function(t){this._error=t}},{key:"decode",value:function(){return{body:this._body||{},error:this._error,status:this._status,headers:this._headers}}}]);return r}(k)},"./src/constant/index.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"d",(function(){return o}));r.d(e,"c",(function(){return u}));r.d(e,"b",(function(){return i}));var n,o;!function(t){t.GET="GET";t.DEL="DELETE";t.POST="POST"}(n||(n={}));!function(t){t.HTTP="HTTP"}(o||(o={}));var i,u="x-serverless-";!function(t){t.CLIENT="/client";t.SERVER="/server";t.ANTCLOUD="/antcloud";t.ANTOPENANTCLOUD="/antopen/antcloud"}(i||(i={}))},"./src/error/index.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));r.d(e,"b",(function(){return m}));r.d(e,"c",(function(){return g}));function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&d(t,e)}function c(t){var e=p();return function(){var r,n=y(t);if(e){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){var e="function"==typeof Map?new Map:void 0;return(f=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,y(this).constructor)}r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}});return d(r,t)})(t)}function l(t,e,r){return(l=p()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));r&&d(o,r.prototype);return o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t}var v=function(t){u(r,t);var e=c(r);function r(t,n){var o;i(this,r);h(s(o=e.call(this)),"code",void 0);h(s(o),"message",void 0);Error.captureStackTrace&&Error.captureStackTrace(s(o),o.constructor);o.code=o.constructor.code;o.message=o.constructor.prefix;n&&(o.message+=": ".concat(n));t instanceof Error?o.message="".concat(o.message," << ").concat(t.message):"string"==typeof t&&(o.message="".concat(o.message,": ").concat(t));return o}return r}(f(Error));h(v,"code",void 0);h(v,"prefix",void 0);var b=function(){function t(){i(this,t);h(this,"code",void 0);h(this,"message",void 0)}!function(t,e,r){e&&o(t.prototype,e);r&&o(t,r)}(t,[{key:"setCode",value:function(t){this.code=t;return this}},{key:"setMessage",value:function(t){this.message=t;return this}},{key:"build",value:function(){var t,e,r=this.code,n=this.message;return e=t=function(t){u(r,t);var e=c(r);function r(){i(this,r);return e.apply(this,arguments)}return r}(v),h(t,"code",r),h(t,"prefix",n),e}}]);return t}();function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{code:"MPServerlessError",message:"MPServerless Error"},r=new b;return Object.keys(t).reduce((function(n,o){n[o]=r.setCode(t[o].code||e.code).setMessage(t[o].message||e.message).build();return n}),{})}var g=m({ValidationError:{code:"ValidationFailed",message:"参数校验错误"}})},"./src/global.ts":function(t,e){},"./src/index.ts":function(t,e,r){"use strict";r.r(e);r("./src/thirdParty/runtime.es5.js");var n=r("./src/error/index.ts");r.d(e,"ErrorClass",(function(){return n.a}));r.d(e,"MPServerlessErrorClass",(function(){return n.b}));r.d(e,"bizError",(function(){return n.c}));var o=r("./src/global.ts");for(var i in o)["default","ErrorClass","MPServerlessErrorClass","bizError"].indexOf(i)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(i);var u=r("./src/utility/index.ts");r.d(e,"assert",(function(){return u.a}));r.d(e,"camelToLisp",(function(){return u.b}));r.d(e,"emptyLogger",(function(){return u.c}));var c=r("./src/constant/index.ts");r.d(e,"HTTPMethod",(function(){return c.a}));r.d(e,"TransportProtocol",(function(){return c.d}));r.d(e,"SERVERLESS_HEADER_PREFIX",(function(){return c.c}));r.d(e,"PREFIX",(function(){return c.b}));var a=r("./src/validator/index.ts");r.d(e,"Validator",(function(){return a.a}));var s=r("./src/codec/index.ts");r.d(e,"BaseEncoder",(function(){return s.b}));r.d(e,"HTTPRequestEncoder",(function(){return s.c}));r.d(e,"BaseDecoder",(function(){return s.a}));r.d(e,"HTTPResponseDecoder",(function(){return s.d}));var f=r("./src/transport/index.ts");r.d(e,"HTTPTransport",(function(){return f.a}));var l=r("./src/service/index.ts");r.d(e,"BaseService",(function(){return l.a}));var p=r("./src/mpserverless.ts");r.d(e,"MPServerlessCore",(function(){return p.a}))},"./src/mpserverless.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r("./src/utility/index.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}function i(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);i(this,"options",void 0);i(this,"_debug",void 0);i(this,"_logger",void 0);i(this,"transport",void 0);Object(n.a)(e,"options is required");Object(n.a)(e.spaceId,"spaceId is required");Object(n.a)(e.endpoint,"endpoint is required");this._debug=!1;this._logger=e.logger||n.c;this.options=e;this.createTransport(e)}!function(t,e,r){e&&o(t.prototype,e);r&&o(t,r)}(t,[{key:"setDebugFlag",value:function(t){this._debug=t;this.transport.setLogger(this.logger)}},{key:"createTransport",value:function(t){var e=t.httpTransport;this.transport=new e(t.endpoint);this.transport.setAppId(t.appId);this.transport.setLogger(this.logger);this.transport.setSpaceId(t.spaceId);this.transport.setTimeout(t.timeout)}},{key:"debug",get:function(){return this._debug}},{key:"logger",get:function(){return this._debug?this._logger:n.c}}]);return t}()},"./src/service/index.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.transport=e}!function(t,e,r){e&&n(t.prototype,e);r&&n(t,r)}(t,[{key:"getEncoder",value:function(t){return this.transport.getEncoder(t)}}]);return t}()},"./src/thirdParty/parameter.es5.js":function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}return function(e,r,n){r&&t(e.prototype,r);n&&t(e,n);return e}}();var i=r("../../node_modules/_util@0.11.1@util/util.js"),u=/^\d{4}\-\d{2}\-\d{2}$/,c=/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/,a=/^\d+$/,s=/^[a-z0-9\!\#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\~\-]+(?:\.[a-z0-9\!\#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i,f=/^[\w\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\]\{\}\|\;\:\'\"\,\<\.\>\/\?]+$/,l=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);"function"==typeof(e=e||{}).translate&&(this.translate=e.translate);e.validateRoot&&(this.validateRoot=!0);e.convert&&(this.convert=!0);e.widelyUndefined&&(this.widelyUndefined=!0)}o(t,[{key:"t",value:function(){var t=Array.prototype.slice.call(arguments);return"function"==typeof this.translate?this.translate.apply(this,t):i.format.apply(i,t)}},{key:"validate",value:function(t,e){if("object"!==(void 0===t?"undefined":n(t)))throw new TypeError("need object type rule");if(this.validateRoot&&("object"!==(void 0===e?"undefined":n(e))||!e))return[{message:this.t("the validated value should be a object"),code:this.t("invalid"),field:void 0}];var r=[];for(var o in t){var i=h(t[o]),u=e[o];"string"==typeof u&&!0===i.trim&&(u=e[o]=u.trim());var c=this.widelyUndefined;"widelyUndefined"in i&&(c=i.widelyUndefined);c&&(""===u||null===u||Number.isNaN(u))&&(u=e[o]=void 0);if(null!=u){var a=d[i.type];if(!a)throw new TypeError("rule type must be one of "+Object.keys(d).join(", ")+", but the following type was passed: "+i.type);v(i,e,o,this.convert);var s=a.call(this,i,e[o],e);"string"==typeof s&&r.push({message:s,code:this.t("invalid"),field:o});Array.isArray(s)&&s.forEach((function(t){var e="object"===i.type?".":"";t.field=o+e+t.field;r.push(t)}))}else{!1!==i.required&&r.push({message:this.t("required"),field:o,code:this.t("missing_field")});"default"in i&&(e[o]=i.default)}}return r.length?r:void 0}}]);return t}();t.exports=p;p.prototype.addRule=p.addRule=function(t,e,r,n){if(!t)throw new TypeError("`type` required");if("string"==typeof r||"function"==typeof r){n=r;r=!0}"boolean"!=typeof r&&(r=!0);if(!r&&d[t])throw new TypeError("rule `"+t+"` exists");if(n){if("string"!=typeof n&&"function"!=typeof n)throw new TypeError("convertType should be string or function");p.CONVERT_MAP[t]=n}if("function"!=typeof e){if(!(e instanceof RegExp))throw new TypeError("check must be function or regexp");d[t]=function(t,r){return m.call(this,{format:e},r)}}else d[t]=e};var d=p.TYPE_MAP={number:function(t,e){if("number"!=typeof e||isNaN(e))return this.t("should be a number");if(t.hasOwnProperty("max")&&e>t.max)return this.t("should smaller than %s",t.max);if(t.hasOwnProperty("min")&&e<t.min)return this.t("should bigger than %s",t.min)},int:b,integer:b,string:m,id:function(t,e){return m.call(this,{format:a,allowEmpty:t.allowEmpty},e)},date:function(t,e){return m.call(this,{format:u,allowEmpty:t.allowEmpty},e)},dateTime:g,datetime:g,boolean:w,bool:w,array:function(t,e){if(!Array.isArray(e))return this.t("should be an array");if(t.hasOwnProperty("max")&&e.length>t.max)return this.t("length should smaller than %s",t.max);if(t.hasOwnProperty("min")&&e.length<t.min)return this.t("length should bigger than %s",t.min);if(!t.itemType)return;var r=this,n=d[t.itemType];if(!n)throw new TypeError("rule type must be one of "+Object.keys(d).join(", ")+", but the following type was passed: "+t.itemType);var o=[],i="object"===t.itemType?t:t.rule||h(t.itemType);e.forEach((function(t,e){var u="["+e+"]",c=n.call(r,i,t);"string"==typeof c&&o.push({field:u,message:c,code:r.t("invalid")});Array.isArray(c)&&(o=o.concat(c.map((function(t){t.field=u+"."+t.field;t.message=t.message;return t}))))}));return o},object:function(t,e){if("object"!==(void 0===e?"undefined":n(e)))return this.t("should be an object");if(Array.isArray(e))return this.t("should be an object");if(t.rule)return this.validate(t.rule,e)},enum:function(t,e){if(!Array.isArray(t.values))throw new TypeError("check enum need array type values");if(-1===t.values.indexOf(e))return this.t("should be one of %s",t.values.join(", "))},email:function(t,e){return m.call(this,{format:s,message:t.message||this.t("should be an email"),allowEmpty:t.allowEmpty},e)},password:function(t,e,r){t.min||(t.min=6);t.format=f;var n=m.call(this,t,e);if(n)return n;if(t.compare&&r[t.compare]!==e)return this.t("should equal to %s",t.compare)},url:function(t,e){return m.call(this,{format:l,message:t.message||this.t("should be a url"),allowEmpty:t.allowEmpty},e)}},y=p.CONVERT_MAP={number:"number",int:"int",integer:"int",string:"string",id:"string",date:"string",dateTime:"string",datetime:"string",boolean:"bool",bool:"bool",email:"string",password:"string",url:"string"};function h(t){"string"==typeof(t=t||{})?t={type:t}:Array.isArray(t)?t={type:"enum",values:t}:t instanceof RegExp&&(t={type:"string",format:t});if(t.type&&"?"===t.type[t.type.length-1]){t.type=t.type.slice(0,-1);t.required=!1}return t}function v(t,e,r,o){var i;o&&(i=y[t.type]);t.convertType&&(i=t.convertType);if(i){var u=e[r];if("object"!==(void 0===u?"undefined":n(u)))if("function"!=typeof i)switch(i){case"int":e[r]=parseInt(u,10);break;case"string":e[r]=String(u);break;case"number":e[r]=Number(e[r]);break;case"bool":case"boolean":e[r]=!!u;break;default:"function"==typeof y[i]&&(e[r]=y[t.type](e[r]))}else e[r]=i(u,e)}}function b(t,e){return"number"!=typeof e||e%1!=0?this.t("should be an integer"):t.hasOwnProperty("max")&&e>t.max?this.t("should smaller than %s",t.max):t.hasOwnProperty("min")&&e<t.min?this.t("should bigger than %s",t.min):void 0}function m(t,e){if("string"!=typeof e)return this.t("should be a string");t.hasOwnProperty("allowEmpty")||!1!==t.required||(t.allowEmpty=!0);var r=t.hasOwnProperty("allowEmpty")?t.allowEmpty:t.empty;if(!e){if(r)return;return this.t("should not be empty")}return t.hasOwnProperty("max")&&e.length>t.max?this.t("length should smaller than %s",t.max):t.hasOwnProperty("min")&&e.length<t.min?this.t("length should bigger than %s",t.min):t.format&&!t.format.test(e)?t.message||this.t("should match %s",t.format):void 0}function g(t,e){return m.call(this,{format:c,allowEmpty:t.allowEmpty},e)}function w(t,e){if("boolean"!=typeof e)return this.t("should be a boolean")}},"./src/thirdParty/runtime.es5.js":function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),u=new j(n||[]);i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return x()}r.method=o;r.arg=i;for(;;){var u=r.delegate;if(u){var c=g(u,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n){n="completed";throw r.arg}r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var f=a(t,e,r);if("normal"===f.type){n=r.done?"completed":"suspendedYield";if(f.arg===s)continue;return{value:f.arg,done:r.done}}if("throw"===f.type){n="completed";r.method="throw";r.arg=f.arg}}}}(t,r,u);return i}t.wrap=c;function a(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}var s={};function f(){}function l(){}function p(){}var d={};d[o]=function(){return this};var y=Object.getPrototypeOf,h=y&&y(y(E([])));h&&h!==e&&r.call(h,o)&&(d=h);var v=p.prototype=f.prototype=Object.create(d);l.prototype=v.constructor=p;p.constructor=l;p[u]=l.displayName="GeneratorFunction";function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))};t.mark=function(t){if(Object.setPrototypeOf)Object.setPrototypeOf(t,p);else{t.__proto__=p;u in t||(t[u]="GeneratorFunction")}t.prototype=Object.create(v);return t};t.awrap=function(t){return{__await:t}};function m(t,e){var n;this._invoke=function(o,i){function u(){return new e((function(n,u){!function n(o,i,u,c){var s=a(t[o],t,i);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t;u(f)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}(o,i,n,u)}))}return n=n?n.then(u,u):u()}}b(m.prototype);m.prototype[i]=function(){return this};t.AsyncIterator=m;t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new m(c(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))};function g(t,e){var r=t.iterator[e.method];if(void 0===r){e.delegate=null;if("throw"===e.method){if(t.iterator.return){e.method="return";e.arg=void 0;g(t,e);if("throw"===e.method)return s}e.method="throw";e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=a(r,t.iterator,e.arg);if("throw"===n.type){e.method="throw";e.arg=n.arg;e.delegate=null;return s}var o=n.arg;if(!o){e.method="throw";e.arg=new TypeError("iterator result is not an object");e.delegate=null;return s}if(!o.done)return o;e[t.resultName]=o.value;e.next=t.nextLoc;if("return"!==e.method){e.method="next";e.arg=void 0}e.delegate=null;return s}b(v);v[u]="Generator";v[o]=function(){return this};v.toString=function(){return"[object Generator]"};function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]);if(2 in t){e.finallyLoc=t[2];e.afterLoc=t[3]}this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal";delete e.arg;t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}];t.forEach(w,this);this.reset(!0)}t.keys=function(t){var e=[];for(var r in t)e.push(r);e.reverse();return function r(){for(;e.length;){var n=e.pop();if(n in t){r.value=n;r.done=!1;return r}}r.done=!0;return r}};function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n)){e.value=t[n];e.done=!1;return e}e.value=void 0;e.done=!0;return e};return i.next=i}}return{next:x}}t.values=E;function x(){return{value:void 0,done:!0}}j.prototype={constructor:j,reset:function(t){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(O);if(!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){u.type="throw";u.arg=t;e.next=r;if(n){e.method="next";e.arg=void 0}return!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};u.type=t;u.arg=e;if(i){this.method="next";this.next=i.finallyLoc;return s}return this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;if("break"===t.type||"continue"===t.type)this.next=t.arg;else if("return"===t.type){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else"normal"===t.type&&e&&(this.next=e);return s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t){this.complete(r.completion,r.afterLoc);O(r);return s}}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){this.delegate={iterator:E(t),resultName:e,nextLoc:r};"next"===this.method&&(this.arg=void 0);return s}};return t}(t.exports);try{regeneratorRuntime=n}catch(t){}},"./src/transport/index.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("./src/constant/index.ts"),o=r("./src/codec/index.ts");function i(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){r(t);return}c.done?e(a):Promise.resolve(a).then(n,o)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}function c(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.endpoint=e;c(this,"authType",void 0);c(this,"protocol",n.d.HTTP);c(this,"logger",void 0);c(this,"appId",void 0);c(this,"appSecret",void 0);c(this,"spaceId",void 0);c(this,"timeout",void 0);c(this,"ua",void 0)}!function(t,e,r){e&&u(t.prototype,e);r&&u(t,r)}(t,[{key:"getEncoder",value:function(t){return new o.c(this.endpoint,t)}},{key:"setAppId",value:function(t){this.appId=t}},{key:"setAppSecret",value:function(t){this.appSecret=t;return this}},{key:"setUA",value:function(t){this.ua=t;return this}},{key:"setLogger",value:function(t){this.logger=t}},{key:"setTimeout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"5s";if("string"==typeof t){if(t.indexOf("ms")>=0){this.timeout=parseInt(t,10);return}if(t.indexOf("s")>=0){this.timeout=1e3*parseInt(t,10);return}}else if("number"==typeof t){this.timeout=t;return}this.timeout=5e3}},{key:"setSpaceId",value:function(t){this.spaceId=t}},{key:"request",value:function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var u=t.apply(e,r);function c(t){i(u,n,o,c,a,"next",t)}function a(t){i(u,n,o,c,a,"throw",t)}c(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(new o.d).decode());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"timeoutOption",get:function(){return this.timeout}}]);return t}()},"./src/utility/index.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r.d(e,"b",(function(){return i}));r.d(e,"c",(function(){return u}));var n=r("./src/error/index.ts");function o(t,e){if(!t)throw new n.c.ValidationError(e)}function i(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))}var u={log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){}}},"./src/validator/index.ts":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("./src/thirdParty/parameter.es5.js"),o=r.n(n),i=r("./src/error/index.ts");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"p",void 0);this.p=new o.a(e)}!function(t,e,r){e&&c(t.prototype,e);r&&c(t,r)}(t,[{key:"validate",value:function(t,e){if("object"!==u(e)&&"string"==typeof t){e={field:e};t={field:t}}var r=this.p.validate(t,e);if(!r)return null;var n=r.map((function(t){if(t.field){for(var r=JSON.parse(JSON.stringify(e)),n=t.field.match(/[^\.\[\]]+/g);n.length;){var o=n.shift();if(!r.hasOwnProperty(o))break;r=r[o]}t.value=r}return t}));throw new i.c.ValidationError(function t(e){return Array.isArray(e)?e.map(t).join("; "):"".concat(e.field," ").concat(e.message)}(n))}}]);return t}()}})}));